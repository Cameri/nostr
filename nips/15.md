# NIP-15

## Relating Events To Resources

`draft` `optional` `author:cameri`

This NIP introduces a new tag `"r"` to events of kind `1` to indicate that it is related to one or more resources.
Resources are identified by a **Uniform Resource Identifier (URI)** as defined in [RFC3986](https://datatracker.ietf.org/doc/html/rfc3986).

**`tags`** MUST contain one or more entries identifying the resource(s), in the form `["r", "<URI, encoded as a string>"]`.

## Relays

A relay may receive a subscription request for events with `"r"` tags as per [NIP-12](https://github.com/fiatjaf/nostr/blob/master/nips/12.md).

```
{
  "kinds": [1],
  "#r": [<a list of URIs that are referenced in an "r" tag>]
}
```

Upon receiving such request, the relay MUST query its internal database and return the events that match the filter and send again all future events it receives to that same websocket until the websocket is closed.

A relay receiving a request to search for tag `"r"` MUST match the URIs exactly.

### Mentions

[NIP-08](https://github.com/fiatjaf/nostr/blob/master/nips/08.md) is extended to support mentioning URIs in `"r"` tags. Clients MUST render URIs from `"r"` tags as-is, or render a more appropriate representation of the resource so long as the original plain-text version of the URI is made available to the user with or without user action.

### Discovery and exploration

A client could allow users to search for events about a specific resource (e.g. web page, file, book, email, telephone number, geographic location, torrent) as long as it can be referenced by a URI.

### URIs and not just URLs

URLs are a subset of URIs and as such restrict the domain of possible resources that be identified. URLs imply availability of the resource which is NOT required because neither clients nor relays are required or expected to verify the presence or availability or the resources at any time.
